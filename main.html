<!DOCTYPE html>
<html>
  <head>
    <title>ENS Laser Lights</title>
     <script src="laser.js"></script>
    
    <style>
      body {
        margin: 0;
        padding: 0;
      }

      canvas {
        display: block;
      }
    </style>
  </head>
  <body>
    <canvas id="canvas"></canvas>

    <script>
      const colors = ["#FF1461", "#18FF92", "#5A87FF", "#FBF38C"];

      class Particle {
        constructor(x, y, dx, dy, size, color) {
          this.x = x;
          this.y = y;
          this.dx = dx;
          this.dy = dy;
          this.size = size;
          this.color = color;
          this.life = 100;
        }

        draw(ctx) {
          ctx.beginPath();
          ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
          ctx.fillStyle = this.color;
          ctx.fill();
          ctx.closePath();
        }

        update() {
          this.x += this.dx;
          this.y += this.dy;
          this.size -= 0.1;
          this.life -= 1;
        }

        isAlive() {
          return this.life > 0;
        }
      }

      class Fountain {
        constructor(canvas) {
          this.canvas = canvas;
          this.ctx = canvas.getContext("2d");
          this.particles = [];
          this.mouseX = 0;
          this.mouseY = 0;
          this.sizes = [10, 20, 30];
          this.isRunning = false;

          canvas.addEventListener("mousedown", () => {
            this.isRunning = true;
            this.mouseX = event.clientX;
            this.mouseY = event.clientY;

            this.createParticles();
          });

          canvas.addEventListener("mouseup", () => {
            this.isRunning = false;
          });
        }

        createParticles() {
          if (!this.isRunning) return;

          for (let i = 0; i < 10; i++) {
            const size = this.sizes[Math.floor(Math.random() * this.sizes.length)];
            const speedHorz = Math.random() * 10;
            const speedUp = Math.random() * 25;
            const spinVal = Math.random() * 360;
            const spinSpeed = Math.random() * 35 * (Math.random() <= 0.5 ? -1 : 1);
            const top = this.mouseY - size / 2;
            const left = this.mouseX - size / 2;
            const direction = Math.random() <= 0.5 ? -1 : 1;

            const particle = new Particle(
              left,
              top,
              speedHorz * direction,
              -speedUp,
              size,
              colors[Math.floor(Math.random() * colors.length)]
            );

            this.particles.push(particle);
          }

          setTimeout(() => {
            this.createParticles();
          }, 100);
        }

        update() {
          this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);

          for (let i = 0; i < this.particles.length; i++) {
            const particle = this.particles[i];

            if (!particle.isAlive()) {
              this.particles.splice(i, 1);
              continue;
            }

            particle.draw(this.ctx);
            particle.update();
          }

          requestAnimationFrame(() => {
            this.update();
          });
        }
      }

      const canvas = document.getElementById("canvas");
      const fountain = new Fountain(canvas

</html>
